<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock,Paper&Scissors</title>
</head>
<body>
  <button id="rock">Rock</button>
  <button id="paper">Paper</button>
  <button id="scissors">Scissors</button>

  <div>
    <p>Count: <span id="count"></span></p>
    <p>Player wins: <span id="player-win-count"></span></p>
    <p>Computer wins: <span id="computer-win-count"></span></p>
  </div>

  <div id="winner">
  </div>
  
  <script>
 //var playerChoice;
 //var computerChoice;
 let count = 0;
 let playerwins = 0;
 let computerWins = 0;
 var choices = ['rock','paper','scissors'];

    let countDoc = document.getElementById("count")
    let playerDoc = document.getElementById("player-win-count")
    let computerDoc = document.getElementById("computer-win-count")
countDoc.innerHTML = count
playerDoc.innerHTML = playerwins
computerDoc.innerHTML = computerWins
function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function getPlayerChoice(){
  var targetIndex;
  const playerSelection = prompt("Enter a number, 1 for Rock, 2 for Paper, 3 for Scissors");

  if(playerSelection == 1){
    targetIndex = 0;
  }else if(playerSelection == 2){
    targetIndex = 1;
  }else if(playerSelection == 3){
    targetIndex = 2;
  }else{
    targetIndex =   2;
  }
  playerChoice = choices[targetIndex];
}
  //return playerSelection;



    function getComputerChoice(){
      var randomNumber = getRandomInt(0,2);
     // console.log(randomNumber);
      //computerChoice = choices[randomNumber];
      return choices[randomNumber] 
      // console.log(`Computer selected ${computerChoice}`);
    }


    function playRound(playerChoice, computerChoice){
      count = count + 1;
      if (playerChoice === computerChoice) {
        //return (`it's a tie ${playerChoice}`)
        // return 0
        console.log("it's a draw")
      } else if (playerChoice === "rock" && computerChoice === "scissors") {
        //return "You win! rock beat scissors";
        playerwins = playerwins + 1
      } 
      else if(playerChoice === "paper" && computerChoice === "rock"){
        //return "You win! paper beat scissors";
        playerwins = playerwins + 1
      } else if (playerChoice === "scissors" && computerChoice === "paper") {
        //return "You win! scissors beat paper";
        playerwins = playerwins + 1
      } else {
        console.log('computer suppose to win')
        computerWins = computerWins + 1
        //return `You lost! ${computerChoice} beats ${playerChoice}`;
      }
    }

    function updateCounterDom() {
      countDoc.innerHTML = count
      playerDoc.innerHTML = playerwins
      computerDoc.innerHTML = computerWins

      if(playerwins === 5) {
        const winner = document.getElementById("winner")
        winner.innerHTML = "Pkayer wins"
      }

      if (computerWins === 5) {
        const winner = document.getElementById("winner")
        winner.innerHTML = "computer wins"
      }
    }

    document.getElementById("rock").addEventListener("click", function() {
    //console.log(rock);
      const computerChoice = getComputerChoice()
      const playerChoice = "rock"
      playRound(playerChoice, computerChoice)
      updateCounterDom()
      console.log('computer choice', computerChoice)

    });
    document.getElementById("paper").addEventListener("click",function(){
      //console.log(paper);
      const computerChoice = getComputerChoice()
      const playerChoice = "paper"
      playRound(playerChoice, computerChoice)
      updateCounterDom()
      console.log('computer choice', computerChoice)


    });
    document.getElementById("scissors").addEventListener("click",function(){
    //console.log(scissors);
      const computerChoice = getComputerChoice()
      const playerChoice = "scissors" 
      playRound(playerChoice, computerChoice)
      updateCounterDom()
      console.log('computer choice', computerChoice)


    });
   //getPlayerChoice();
   //getComputerChoice();
   //alert(choices[4]);
  //alert(playRound())
  </script>
</body>
</html>